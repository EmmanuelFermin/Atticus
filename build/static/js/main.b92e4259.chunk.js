(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(5),c=n.n(l),o=(n(13),n(7)),i=n(6),u=n(1),m=(n(14),function(e){return r.a.createElement("div",{className:"card"},e.children)}),s=(n(15),function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),d=(n(16),r.a.memo(function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),i=Object(u.a)(o,2),d=i[0],f=i[1],E=function(e){var t=e.target,n=t.value,a=t.id;"title"===a?c(n):"amount"===a&&f(n)};return r.a.createElement("section",{className:"ingredient-form"},r.a.createElement(m,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAddIngredient({title:l,amount:d})}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"title"},"Name"),r.a.createElement("input",{type:"text",id:"title",value:l,onChange:E,maxlength:"20"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement("input",{type:"number",id:"amount",value:d,onChange:E})),r.a.createElement("div",{className:"ingredient-form__actions"},r.a.createElement("button",{type:"submit"},"Add Ingredient"),e.loading&&r.a.createElement(s,null)))))})),f=(n(17),function(e){return r.a.createElement("section",{className:"ingredient-list"},r.a.createElement("h2",null,"Loaded Ingredients"),r.a.createElement("ul",null,e.ingredients.map(function(t){return r.a.createElement("li",{key:t.id,onClick:e.onRemoveItem.bind(void 0,t.id)},r.a.createElement("span",{style:{marginTop:"10px"}},t.title),r.a.createElement("div",null,r.a.createElement("span",{style:{marginTop:"10px"}},t.amount,"x"),r.a.createElement("button",{style:{padding:"0",width:"30px",height:"30px",color:"red",backgroundColor:"white",borderStyle:"none",marginLeft:"30px"},className:"button-delete",title:"delete"},r.a.createElement("span",{role:"img","aria-label":"delete"},"\ud83d\uddd1\ufe0f"))))})))}),E=(n(18),r.a.memo(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"backdrop",onClick:e.onClose}),r.a.createElement("div",{className:"error-modal"},r.a.createElement("h2",null,"An Error Occurred!"),r.a.createElement("p",null,e.children),r.a.createElement("div",{className:"error-modal__actions"},r.a.createElement("button",{type:"button",onClick:e.onClose},"Okay"))))})),b=(n(19),r.a.memo(function(e){var t=e.onLoadIngredients,n=Object(a.useState)(""),l=Object(u.a)(n,2),c=l[0],o=l[1],i=Object(a.useRef)();Object(a.useEffect)(function(){var e=setTimeout(function(){if(c===i.current.value){var e=0===c.length?"":'?orderBy="title"&equalTo="'.concat(c,'"');fetch("https://react-hooks-update-4babb-default-rtdb.firebaseio.com/ingredients.json"+e).then(function(e){return e.json()}).then(function(e){var n=[];for(var a in e)n.push({id:a,title:e[a].title,amount:e[a].amount});t(n)})}},500);return function(){clearTimeout(e)}},[c,t,i]);return r.a.createElement("section",{className:"search"},r.a.createElement(m,null,r.a.createElement("div",{className:"search-input"},r.a.createElement("label",null,"Filter by Title"),r.a.createElement("input",{ref:i,type:"text",value:c,onChange:function(e){var t=e.target.value;o(t)}}))))})),p=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),m=Object(u.a)(c,2),s=m[0],p=m[1],h=Object(a.useState)(),g=Object(u.a)(h,2),v=g[0],j=g[1];Object(a.useEffect)(function(){console.log("RENDERING INGREDIENTS",n)},[n]);var O=Object(a.useCallback)(function(e){l(e)},[]);return r.a.createElement("div",{className:"App"},v&&r.a.createElement(E,{onClose:function(){j(null)}},v),r.a.createElement(d,{onAddIngredient:function(e){p(!0),fetch("https://react-hooks-update-4babb-default-rtdb.firebaseio.com/ingredients.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return p(!1),e.json()}).then(function(t){l(function(n){return[].concat(Object(i.a)(n),[Object(o.a)({id:t.name},e)])})})},loading:s}),r.a.createElement("section",null,r.a.createElement(b,{onLoadIngredients:O}),r.a.createElement(f,{ingredients:n,onRemoveItem:function(e){p(!0),fetch("https://react-hooks-update-4babb-default-rtdb.firebaseio.com/ingredients/".concat(e,".json"),{method:"DELETE"}).then(function(t){p(!1),l(function(t){return t.filter(function(t){return t.id!==e})})}).catch(function(e){j("Something went wrong!"),p(!1)})}})))},h=function(e){return r.a.createElement(p,null)};c.a.render(r.a.createElement(h,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.b92e4259.chunk.js.map